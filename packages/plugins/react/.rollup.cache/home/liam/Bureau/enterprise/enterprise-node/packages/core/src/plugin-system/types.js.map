{"version":3,"file":"types.js","sourceRoot":"","sources":["types.ts"],"names":[],"mappings":"AAAA;;;GAGG","sourcesContent":["/**\n * @fileoverview Plugin System Architecture\n * Architecture du système de plugins pour Enterprise SDK\n */\n\nexport interface PluginManifest {\n  name: string;\n  version: string;\n  description: string;\n  author?: string;\n  homepage?: string;\n  repository?: string;\n  keywords?: string[];\n\n  // Configuration du plugin\n  main: string; // Point d'entrée principal\n  exports?: Record<string, string>; // Exports spécifiques\n\n  // Dépendances\n  dependencies?: Record<string, string>;\n  peerDependencies?: Record<string, string>;\n\n  // Compatibilité\n  engines?: {\n    node?: string;\n    npm?: string;\n  };\n\n  // Catégories et tags\n  category: 'framework' | 'module' | 'tooling' | 'integration';\n  tags: string[];\n\n  // Support des frameworks\n  supports: string[]; // Frameworks supportés (react, nextjs, vue, etc.)\n\n  // Configuration requise\n  configSchema?: PluginConfigSchema;\n\n  // Hooks et cycles de vie\n  hooks?: PluginHook[];\n\n  // Métadonnées\n  enterprise?: {\n    certified?: boolean; // Plugin certifié par Enterprise\n    recommended?: boolean; // Plugin recommandé\n    deprecated?: boolean; // Plugin déprécié\n    experimental?: boolean; // Plugin expérimental\n  };\n}\n\nexport interface PluginConfigSchema {\n  type: 'object';\n  properties: Record<\n    string,\n    {\n      type: 'string' | 'number' | 'boolean' | 'array' | 'object';\n      description?: string;\n      default?: any;\n      required?: boolean;\n      enum?: any[];\n      minimum?: number;\n      maximum?: number;\n    }\n  >;\n  required?: string[];\n}\n\nexport interface PluginHook {\n  name: string;\n  description: string;\n  timing: 'before' | 'after' | 'around' | 'instead';\n  event: string; // Événement cible (build, dev, test, etc.)\n  priority?: number; // Priorité d'exécution (0 = plus haute)\n}\n\nexport interface PluginContext {\n  // Configuration du projet\n  config: any;\n\n  // Environnement\n  env: 'development' | 'production' | 'test';\n\n  // Chemins\n  cwd: string;\n  rootDir: string;\n  srcDir: string;\n  distDir: string;\n\n  // Framework détecté\n  framework?: string;\n\n  // Modules activés\n  modules: string[];\n\n  // Outils utilitaires\n  logger: PluginLogger;\n  utils: PluginUtils;\n}\n\nexport interface PluginLogger {\n  debug(message: string, ...args: any[]): void;\n  info(message: string, ...args: any[]): void;\n  warn(message: string, ...args: any[]): void;\n  error(message: string, ...args: any[]): void;\n  success(message: string, ...args: any[]): void;\n}\n\nexport interface PluginUtils {\n  // File system\n  readFile(path: string): Promise<string>;\n  writeFile(path: string, content: string): Promise<void>;\n  exists(path: string): Promise<boolean>;\n\n  // Package management\n  getPackageJson(): Promise<any>;\n  updatePackageJson(updates: any): Promise<void>;\n\n  // Command execution\n  exec(command: string, options?: any): Promise<{ stdout: string; stderr: string }>;\n\n  // Framework detection\n  detectFramework(): Promise<string | null>;\n\n  // Configuration\n  getConfig(): Promise<any>;\n  setConfig(path: string, value: any): Promise<void>;\n}\n\n/**\n * Interface principale d'un plugin Enterprise\n */\nexport interface EnterprisePlugin {\n  // Métadonnées du plugin\n  readonly manifest: PluginManifest;\n\n  // Initialisation\n  initialize(context: PluginContext): Promise<void>;\n\n  // Destruction\n  destroy(): Promise<void>;\n\n  // Hooks du cycle de vie\n  onBeforeBuild?(context: PluginContext): Promise<void>;\n  onAfterBuild?(context: PluginContext): Promise<void>;\n  onBeforeDev?(context: PluginContext): Promise<void>;\n  onAfterDev?(context: PluginContext): Promise<void>;\n  onBeforeTest?(context: PluginContext): Promise<void>;\n  onAfterTest?(context: PluginContext): Promise<void>;\n\n  // Commandes CLI personnalisées\n  getCommands?(): PluginCommand[];\n\n  // Configuration\n  getConfigSchema?(): PluginConfigSchema;\n  validateConfig?(config: any): boolean | string;\n\n  // Intégration avec les modules\n  onModuleLoad?(moduleName: string, moduleInstance: any): Promise<void>;\n  onModuleUnload?(moduleName: string): Promise<void>;\n}\n\nexport interface PluginCommand {\n  name: string;\n  description: string;\n  category?: 'build' | 'dev' | 'test' | 'deploy' | 'util';\n  options?: PluginCommandOption[];\n  handler: (args: any, context: PluginContext) => Promise<void>;\n}\n\nexport interface PluginCommandOption {\n  name: string;\n  description: string;\n  type: 'string' | 'number' | 'boolean';\n  required?: boolean;\n  default?: any;\n  choices?: string[];\n}\n\n/**\n * Événements du système de plugins\n */\nexport interface PluginEvent {\n  name: string;\n  data?: any;\n  timestamp: number;\n  source: string;\n}\n\n/**\n * Résultat du chargement d'un plugin\n */\nexport interface PluginLoadResult {\n  plugin: EnterprisePlugin;\n  success: boolean;\n  error?: Error;\n  warnings?: string[];\n}\n\n/**\n * Configuration du système de plugins\n */\nexport interface PluginSystemConfig {\n  // Répertoires de recherche\n  pluginDirs?: string[];\n\n  // Plugins à charger automatiquement\n  autoLoad?: string[];\n\n  // Plugins à exclure\n  exclude?: string[];\n\n  // Options de développement\n  devMode?: boolean;\n  verbose?: boolean;\n\n  // Cache\n  enableCache?: boolean;\n  cacheDir?: string;\n\n  // Sécurité\n  allowUnsafePlugins?: boolean;\n  trustedAuthors?: string[];\n}\n"]}